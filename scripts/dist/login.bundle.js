(()=>{firebase.initializeApp({apiKey:"AIzaSyAx1lKQb2eGX5oWBwtiuYmvuzmEd_X5cPM",authDomain:"test-dff46.firebaseapp.com",databaseURL:"https://test-dff46-default-rtdb.firebaseio.com",projectId:"test-dff46",storageBucket:"test-dff46.appspot.com",messagingSenderId:"153347507128",appId:"1:153347507128:web:72b46e4aff57e059fa854d",measurementId:"G-C4PKRQPK50"});var e=firebase.auth(),t=firebase.database(),n=document.getElementById("google-sign-in"),o=document.getElementById("email-sign-up"),i=document.getElementById("error-message"),a=document.getElementById("login-form"),r={};function l(e){i.textContent=e,i.style.display="block",setTimeout((function(){i.textContent="",i.style.display="none"}),5e3)}window.addEventListener("load",(function(){var e;e="ja",console.log("言語ファイルをロード中: lang/".concat(e,".json")),fetch("lang/".concat(e,".json")).then((function(e){if(console.log("言語ファイルのレスポンス:",e),!e.ok)throw new Error("ネットワークレスポンスがOKではありません");return e.json()})).then((function(e){console.log("言語データ:",e),r=e,function(){var e=document.getElementById("header-title");e&&(e.textContent=r.header_title||"ログイン");var t=document.getElementById("signin-heading");t&&(t.textContent=r.signin||"サインイン");var o=document.getElementById("signin-email-heading");if(o&&(o.textContent=r.signin_email||"メールでサインイン"),n&&(n.innerHTML='<img src="https://developers.google.com/identity/images/g-logo.png" alt="Google Logo"> '.concat(r.signin||"サインイン")),a){var i=document.getElementById("email-sign-in"),l=document.getElementById("email-sign-up");i&&(i.textContent=r.signin||"サインイン"),l&&(l.textContent=r.signup||"新規登録")}var c=document.getElementById("email");c&&(c.placeholder=r.email_placeholder||"メールアドレス");var d=document.getElementById("password");d&&(d.placeholder=r.password_placeholder||"パスワード")}()})).catch((function(e){console.error("言語ファイルの読み込みエラー:",e)}))})),n&&n.addEventListener("click",(function(){console.log("Googleサインインボタンがクリックされました");var t=new firebase.auth.GoogleAuthProvider;e.signInWithPopup(t).then((function(e){console.log("Google サインイン成功:",e.user),window.location.href="main.html"})).catch((function(e){console.error("Google サインインエラー:",e),l(r.error_signin||"サインインに失敗しました。")}))})),a&&a.addEventListener("submit",(function(t){t.preventDefault(),console.log("メールサインインフォームが送信されました");var n=document.getElementById("email").value.trim(),o=document.getElementById("password").value.trim();n&&o?e.signInWithEmailAndPassword(n,o).then((function(e){console.log("メールサインイン成功:",e.user),window.location.href="main.html"})).catch((function(e){console.error("メールサインインエラー:",e),l(r.error_signin||"サインインに失敗しました。")})):l(r.error_empty_fields||"メールアドレスとパスワードを入力してください。")})),o&&o.addEventListener("click",(function(){console.log("メールサインアップボタンがクリックされました");var n=document.getElementById("email").value.trim(),o=document.getElementById("password").value.trim();n&&o?e.createUserWithEmailAndPassword(n,o).then((function(e){console.log("新規登録成功:",e.user);var n=e.user.uid;t.ref("Username/".concat(n)).set({UName:"",Uimage:""}),t.ref("Userdata/".concat(n)).set({}),t.ref("AcceptUser/".concat(n)).set({}),window.location.href="main.html"})).catch((function(e){console.error("新規登録エラー:",e),l(r.error_signup||"新規登録に失敗しました。")})):l(r.error_empty_fields||"メールアドレスとパスワードを入力してください。")})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("video");e.muted=!0,e.play().catch((function(){e.muted=!0,e.play()}))}))})();
//# sourceMappingURL=login.bundle.js.map